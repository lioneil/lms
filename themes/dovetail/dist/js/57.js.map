{"version":3,"sources":["webpack:///./src/modules/Assessment/submodules/Field/Index.vue?2183","webpack:///src/modules/Assessment/submodules/Field/Index.vue","webpack:///./src/modules/Assessment/submodules/Field/Index.vue?a3ff","webpack:///./src/modules/Assessment/submodules/Field/Index.vue","webpack:///./src/modules/Assessment/routes/api.js","webpack:///./src/modules/Assessment/Models/Assessment.js","webpack:///./src/modules/Assessment/submodules/Field/Models/Field.js"],"names":["components","FieldEmptyState","AssessmentDetail","SkeletonLoadingField","computed","resourcesIsNotEmpty","this","resourcesIsEmpty","hasFirstLesson","isDesktop","$vuetify","breakpoint","mdAndUp","isMobile","smAndDown","hasAssessmentResource","assessment","data","id","methods","cardClass","hover","item","is_section","handlePublished","showSnackbar","text","trans","getAssessmentResource","handleUnpublished","getTypeIcon","resource","fieldTypes","forEach","icon","e","addField","$router","push","name","sortFields","items","fields","map","sort","i","axios","patch","load","loading","val","get","clone","post","remove","mounted","component","_vm","_h","$createElement","_c","_self","attrs","_v","scopedSlots","_u","key","fn","domProps","_s","proxy","staticClass","params","query","from","$route","fullPath","_e","api","publish","on","unpublish","model","value","callback","$$v","$set","expression","directives","rawName","ref","class","metadata","type","title","field","$event","preventDefault","_g","cancel","_l","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDivider","VHover","VIcon","VList","VListItem","VListItemContent","VListItemIcon","VListItemTitle","VRow","VSpacer","list","store","delete","restore","trashed","show","update","destroy","export","import","reorder","upload","Assessment","isPrestine","isValid","errors","subtitle","slug","url","method","description","Field","code","created","form_id","file"],"mappings":"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","file":"dist/js/57.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('admin',[_c('metatag',{attrs:{\"title\":_vm.trans('Manage Fields')}}),_vm._v(\" \"),_c('page-header',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.trans('Manage Fields'))}})]},proxy:true},{key:\"utilities\",fn:function(){return [_c('can',{attrs:{\"code\":\"assessments.edit\"}},[(_vm.hasAssessmentResource)?_c('router-link',{staticClass:\"dt-link text-decoration-none mr-6\",attrs:{\"to\":{ name: 'assessments.edit', params: { id: _vm.assessment.data.id }, query: {from: _vm.$route.fullPath} },\"exact\":\"\",\"tag\":\"a\"}},[_c('v-icon',{staticClass:\"mb-1\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil-outline\")]),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(_vm.trans('Edit Assessment'))}})],1):_vm._e()],1)]},proxy:true},{key:\"action\",fn:function(){return [(_vm.assessment.data.unpublished)?_c('publish-button',{attrs:{\"url\":_vm.api.publish(_vm.assessment.data.id)},on:{\"publish\":_vm.handleUnpublished},scopedSlots:_vm._u([{key:\"context-title\",fn:function(){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.trans('Publish this assessment'))}})]},proxy:true},{key:\"context-text\",fn:function(){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.trans('Publishing will let the users see this assessment and its lessons. Are you sure you want to proceed?'))}})]},proxy:true}],null,false,3569619722)}):_vm._e(),_vm._v(\" \"),(_vm.assessment.data.published)?_c('unpublish-button',{attrs:{\"url\":_vm.api.unpublish(_vm.assessment.data.id)},on:{\"unpublish\":_vm.handlePublished},scopedSlots:_vm._u([{key:\"context-title\",fn:function(){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.trans('Unpublish this assessment'))}})]},proxy:true},{key:\"context-text\",fn:function(){return [_c('span',{domProps:{\"textContent\":_vm._s(_vm.trans('Unpublishing will not let the users see this assessment and its lessons. Are you sure you want to proceed?'))}})]},proxy:true}],null,false,656180159)}):_vm._e()]},proxy:true}])}),_vm._v(\" \"),(_vm.resource.loading)?[_c('skeleton-loading-field')]:[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"9\"}},[_c('assessment-detail',{model:{value:(_vm.assessment.data),callback:function ($$v) {_vm.$set(_vm.assessment, \"data\", $$v)},expression:\"assessment.data\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.resourcesIsNotEmpty),expression:\"resourcesIsNotEmpty\"}]},[_c('v-row',{staticClass:\"mb-4\"},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('data-sorter',{attrs:{\"items\":_vm.assessment.data.fields},on:{\"sorted\":_vm.sortFields},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{staticClass:\"mb-3\",class:_vm.cardClass(hover, item)},[_c('v-card-text',{staticClass:\"py-2\"},[_c('v-row',{attrs:{\"no-gutters\":\"\",\"align\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('v-icon',{attrs:{\"left\":\"\"},domProps:{\"textContent\":_vm._s(_vm.getTypeIcon(item.metadata.type))}})],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"auto\"}},[_c('div',{staticClass:\"d-inline text-ellipsis\",attrs:{\"title\":item.title},domProps:{\"innerHTML\":_vm._s(item.title)}})]),_vm._v(\" \"),_c('v-col',[_c('div',{staticClass:\"d-none\",class:{ 'd-flex': hover }},[_c('div',{staticClass:\"d-inline-block\"},[(!item.is_section)?[_c('router-link',{staticClass:\"mx-1 transparent\",class:{ 't-d-none t-d-hover-lined show-btns': hover },attrs:{\"to\":{ name: 'fields.edit', params: {id: _vm.assessment.data.id, field: item.id}, query: { type: item.metadata.type, from: _vm.$route.fullPath} },\"exact\":\"\",\"tag\":\"a\"},domProps:{\"textContent\":_vm._s(_vm.trans('Edit'))}})]:_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"mx-1 transparent\",class:{ 't-d-none t-d-hover-lined show-btns': hover },domProps:{\"textContent\":_vm._s(_vm.trans('Copy of'))},on:{\"click\":function($event){$event.preventDefault();return _vm.clone(item)}}}),_vm._v(\" \"),_c('context-prompt',{staticClass:\"d-inline-block\",scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('a',_vm._g({staticClass:\"mx-1 transparent\",class:{ 't-d-none t-d-hover-lined show-btns': hover },domProps:{\"textContent\":_vm._s(_vm.trans('Remove'))}},on))]}}],null,true)},[_vm._v(\" \"),_c('v-card',{attrs:{\"max-width\":\"280\"}},[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.trans('Remove Item'))}}),_vm._v(\" \"),_c('v-card-text',{domProps:{\"textContent\":_vm._s(_vm.trans('Doing so will permanently remove the field from the list. Are you sure you want to proceed?'))}}),_vm._v(\" \"),_c('v-card-actions',[_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"link\",\"text\":\"\"},domProps:{\"textContent\":_vm._s(_vm.trans('Cancel'))},on:{\"click\":function($event){$event.preventDefault();_vm.cancel = false}}}),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('v-btn',{attrs:{\"large\":\"\",\"color\":\"error\",\"text\":\"\"},domProps:{\"textContent\":_vm._s(_vm.trans('Remove'))},on:{\"click\":function($event){$event.preventDefault();return _vm.remove(item)}}})],1)],1)],1)],2),_vm._v(\" \"),_c('v-spacer'),_vm._v(\" \"),_c('div',{staticClass:\"mx-1 d-inline-block handle\"},[_c('div',[_c('v-icon',[_vm._v(\"mdi-drag\")])],1)])],1)])],1)],1)],1)]}}],null,true)})]}}])})],1)],1)],1),_vm._v(\" \"),(_vm.resourcesIsEmpty)?_c('div',[_c('field-empty-state',{staticClass:\"my-10 pt-10\",scopedSlots:_vm._u([{key:\"text\",fn:function(){return [_c('p',{staticClass:\"muted--text mb-8\",domProps:{\"textContent\":_vm._s(_vm.trans('Choose fields from the right side to start building your assessment'))}})]},proxy:true}],null,false,2294718267)})],1):_vm._e()],1),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"3\"}},[_c('div',{staticClass:\"sticky-w-space\"},[_c('v-card',{staticClass:\"mb-3\"},[_c('v-card-title',{domProps:{\"textContent\":_vm._s(_vm.trans('Add Field'))}},[_c('v-spacer'),_vm._v(\" \"),_c('v-icon',{attrs:{\"color\":\"primary\"}},[_vm._v(\"mdi-plus\")])],1),_vm._v(\" \"),_c('v-divider'),_vm._v(\" \"),_c('v-list',{attrs:{\"dense\":\"\"}},[_vm._l((_vm.resource.fieldTypes),function(item){return [_c('v-list-item',{attrs:{\"ripple\":{ class: 'primary--text' },\"exact\":\"\"},on:{\"click\":function($event){return _vm.addField(item)}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"small\":\"\"},domProps:{\"textContent\":_vm._s(item.icon)}})],1),_vm._v(\" \"),_c('v-list-item-content',[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.name)}})],1)],1),_vm._v(\" \"),(item.divider)?_c('v-divider',{attrs:{\"inset\":\"\"}}):_vm._e()]})],2)],1)],1)])],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <admin>\n    <metatag :title=\"trans('Manage Fields')\"></metatag>\n\n    <page-header>\n      <template v-slot:title><span v-text=\"trans('Manage Fields')\"></span></template>\n      <template v-slot:utilities>\n        <can code=\"assessments.edit\">\n          <router-link\n            v-if=\"hasAssessmentResource\"\n            :to=\"{ name: 'assessments.edit', params: { id: assessment.data.id }, query: {from: $route.fullPath} }\"\n            class=\"dt-link text-decoration-none mr-6\"\n            exact\n            tag=\"a\"\n            >\n            <v-icon small class=\"mb-1\">mdi-pencil-outline</v-icon>\n            <span v-text=\"trans('Edit Assessment')\"></span>\n          </router-link>\n        </can>\n      </template>\n      <template v-slot:action>\n        <publish-button\n          v-if=\"assessment.data.unpublished\"\n          :url=\"api.publish(assessment.data.id)\"\n          @publish=\"handleUnpublished\"\n          >\n          <template v-slot:context-title>\n            <span v-text=\"trans('Publish this assessment')\"></span>\n          </template>\n          <template v-slot:context-text>\n            <span v-text=\"trans('Publishing will let the users see this assessment and its lessons. Are you sure you want to proceed?')\"></span>\n          </template>\n        </publish-button>\n\n        <unpublish-button\n          v-if=\"assessment.data.published\"\n          :url=\"api.unpublish(assessment.data.id)\"\n          @unpublish=\"handlePublished\"\n          >\n          <template v-slot:context-title>\n            <span v-text=\"trans('Unpublish this assessment')\"></span>\n          </template>\n          <template v-slot:context-text>\n            <span v-text=\"trans('Unpublishing will not let the users see this assessment and its lessons. Are you sure you want to proceed?')\"></span>\n          </template>\n        </unpublish-button>\n      </template>\n    </page-header>\n\n    <template v-if=\"resource.loading\">\n      <skeleton-loading-field></skeleton-loading-field>\n    </template>\n\n    <template v-else>\n      <v-row>\n        <v-col cols=\"12\" md=\"9\">\n          <!-- Assessment Details -->\n          <assessment-detail v-model=\"assessment.data\"></assessment-detail>\n          <!-- Assessment Details -->\n\n          <!-- List of Fields -->\n          <div v-show=\"resourcesIsNotEmpty\">\n            <v-row class=\"mb-4\">\n              <v-col cols=\"12\">\n                <data-sorter @sorted=\"sortFields\" :items=\"assessment.data.fields\">\n                  <template v-slot:item=\"{ item }\">\n                    <v-hover v-slot:default=\"{ hover }\">\n                      <!-- List of fields -->\n                      <v-card\n                        :class=\"cardClass(hover, item)\"\n                        class=\"mb-3\"\n                        >\n                        <v-card-text class=\"py-2\">\n                          <v-row no-gutters align=\"center\">\n                            <v-col cols=\"auto\"><v-icon left v-text=\"getTypeIcon(item.metadata.type)\"></v-icon></v-col>\n                            <v-col cols=\"auto\">\n                              <div class=\"d-inline text-ellipsis\" :title=\"item.title\" v-html=\"item.title\"></div>\n                            </v-col>\n                            <v-col>\n                              <div class=\"d-none\" :class=\"{ 'd-flex': hover }\">\n\n                                <!-- Actions -->\n                                <div class=\"d-inline-block\">\n                                  <!-- Edit -->\n                                  <template v-if=\"!item.is_section\">\n                                    <router-link\n                                      :class=\"{ 't-d-none t-d-hover-lined show-btns': hover }\"\n                                      :to=\"{ name: 'fields.edit', params: {id: assessment.data.id, field: item.id}, query: { type: item.metadata.type, from: $route.fullPath} }\"\n                                      class=\"mx-1 transparent\"\n                                      exact\n                                      tag=\"a\"\n                                      v-text=\"trans('Edit')\"\n                                      >\n                                    </router-link>\n                                  </template>\n                                  <!-- Edit -->\n\n                                  <!-- Copy -->\n                                  <a\n                                    :class=\"{ 't-d-none t-d-hover-lined show-btns': hover }\"\n                                    @click.prevent=\"clone(item)\"\n                                    class=\"mx-1 transparent\"\n                                    v-text=\"trans('Copy of')\"\n                                  ></a>\n                                  <!-- Copy -->\n\n                                  <!-- Remove -->\n                                  <context-prompt class=\"d-inline-block\">\n                                    <template v-slot:activator=\"{ on }\">\n                                      <a\n                                        :class=\"{ 't-d-none t-d-hover-lined show-btns': hover }\"\n                                        class=\"mx-1 transparent\"\n                                        v-on=\"on\"\n                                        v-text=\"trans('Remove')\"\n                                      ></a>\n                                    </template>\n                                    <v-card max-width=\"280\">\n                                      <v-card-title v-text=\"trans('Remove Item')\"></v-card-title>\n                                      <v-card-text v-text=\"trans('Doing so will permanently remove the field from the list. Are you sure you want to proceed?')\"></v-card-text>\n                                      <v-card-actions>\n                                        <v-btn large color=\"link\" text @click.prevent=\"cancel = false\" v-text=\"trans('Cancel')\"></v-btn>\n                                        <v-spacer></v-spacer>\n                                        <v-btn large color=\"error\" text @click.prevent=\"remove(item)\" v-text=\"trans('Remove')\"></v-btn>\n                                      </v-card-actions>\n                                    </v-card>\n                                  </context-prompt>\n                                  <!-- Remove -->\n                                  <!-- Actions -->\n                                </div>\n\n                                <v-spacer></v-spacer>\n\n                                <!-- Reorder -->\n                                <div class=\"mx-1 d-inline-block handle\">\n                                  <div><v-icon>mdi-drag</v-icon></div>\n                                </div>\n                                <!-- Reorder -->\n\n                              </div>\n                            </v-col>\n                          </v-row>\n                        </v-card-text>\n                      </v-card>\n                    </v-hover>\n                  </template>\n                </data-sorter>\n              </v-col>\n            </v-row>\n          </div>\n          <!-- List of Fields -->\n\n          <!-- Empty state -->\n          <div v-if=\"resourcesIsEmpty\">\n            <field-empty-state class=\"my-10 pt-10\">\n              <template v-slot:text>\n                <p class=\"muted--text mb-8\" v-text=\"trans('Choose fields from the right side to start building your assessment')\"></p>\n              </template>\n            </field-empty-state>\n          </div>\n          <!-- Empty state -->\n        </v-col>\n\n        <v-col cols=\"12\" md=\"3\">\n          <div class=\"sticky-w-space\">\n            <v-card class=\"mb-3\">\n              <v-card-title v-text=\"trans('Add Field')\">\n                <v-spacer></v-spacer>\n                <v-icon color=\"primary\">mdi-plus</v-icon>\n              </v-card-title>\n              <v-divider></v-divider>\n              <v-list dense>\n                <template v-for=\"item in resource.fieldTypes\">\n                  <v-list-item\n                    :ripple=\"{ class: 'primary--text' }\"\n                    @click=\"addField(item)\"\n                    exact\n                    >\n                    <v-list-item-icon>\n                      <v-icon small v-text=\"item.icon\"></v-icon>\n                    </v-list-item-icon>\n                    <v-list-item-content>\n                      <v-list-item-title v-text=\"item.name\"></v-list-item-title>\n                    </v-list-item-content>\n                  </v-list-item>\n                  <v-divider inset v-if=\"item.divider\"></v-divider>\n                </template>\n              </v-list>\n            </v-card>\n          </div>\n        </v-col>\n      </v-row>\n    </template>\n  </admin>\n</template>\n\n<script>\nimport $api from '@/modules/Assessment/routes/api'\nimport $auth from '@/core/Auth/auth'\nimport clone from 'lodash/clone'\nimport Field from './Models/Field'\nimport Assessment from '@/modules/Assessment/Models/Assessment'\nimport isEmpty from 'lodash/isEmpty'\nimport { mapActions } from 'vuex'\n\nexport default {\n  components: {\n    FieldEmptyState: () => import('./partials/FieldEmptyState'),\n    AssessmentDetail: () => import('./partials/AssessmentDetail'),\n    SkeletonLoadingField: () => import('@/modules/Assessment/cards/SkeletonLoadingField'),\n  },\n\n  computed: {\n    resourcesIsNotEmpty () {\n      return !this.resourcesIsEmpty\n    },\n    resourcesIsEmpty () {\n      return isEmpty(this.assessment.data.fields) && !this.resource.loading\n    },\n    hasFirstLesson () {\n      return !isEmpty(this.assessment.data.meta.lessons.first);\n    },\n    isDesktop () {\n      return this.$vuetify.breakpoint.mdAndUp\n    },\n    isMobile () {\n      return this.$vuetify.breakpoint.smAndDown\n    },\n    hasAssessmentResource () {\n      return this.assessment.data.id\n    }\n  },\n\n  data: () => ({\n    api: $api,\n    cancel: null,\n    handleSort: false,\n    assessment: new Assessment,\n    resource: new Field,\n    auth: $auth.getUser(),\n  }),\n\n  methods: {\n    ...mapActions({\n      showAlertbox: 'alertbox/show',\n      hideAlertbox: 'alertbox/hide',\n      showDialog: 'dialog/show',\n      hideDialog: 'dialog/hide',\n      showSnackbar: 'snackbar/show',\n      hideSnackbar: 'snackbar/hide',\n    }),\n\n    cardClass (hover, item) {\n      return {\n        'text-truncate-section': hover,\n        'mt-8': item.is_section,\n        'text-truncate-section-display-md': this.isDesktop,\n        'text-truncate-section-display-xs': this.isMobile,\n      }\n    },\n\n    handlePublished () {\n      this.showSnackbar({\n        text: trans('You have successfully unpublish the assessment'),\n      })\n      this.getAssessmentResource()\n    },\n\n    handleUnpublished () {\n      this.showSnackbar({\n        text: trans('You have successfully publish the assessment'),\n      })\n      this.getAssessmentResource()\n    },\n\n    getTypeIcon (code) {\n      let icon = ''\n      this.resource.fieldTypes.forEach(e => {\n        if(e.code === code) {\n          icon = e.icon\n        }\n      })\n      return icon\n    },\n\n    addField (item) {\n      this.$router.push({\n        name: 'fields.create', query: { type: item.code }\n      })\n    },\n\n    sortFields (items) {\n      items = {\n        fields: items.map((item, i) => {\n          return {\n            id: item.id,\n            sort: i + 1,\n          }\n        }),\n      }\n\n      axios.patch(\n        $api.field.reorder(), items\n      ).then(response => {\n      })\n    },\n\n    load (val = true) {\n      this.resource.loading = val\n    },\n\n    getAssessmentResource () {\n      axios.get($api.show(this.$route.params.id))\n        .then(response => {\n          this.assessment.data = response.data.data\n          console.log(this.assessment.data)\n        }).finally(() => { this.load(false) })\n    },\n\n    clone (item) {\n      axios.post(\n        $api.field.clone(item.id)\n      ).then(response => {\n        this.getAssessmentResource()\n      })\n    },\n\n    remove (item) {\n      axios.delete(\n        $api.field.delete(item.id)\n      ).then(response => {\n        this.showSnackbar({\n          text: trans('Field deleted successfully'),\n        })\n\n        this.getAssessmentResource()\n      })\n    },\n  },\n\n  mounted () {\n    this.load()\n    this.getAssessmentResource()\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=14407114&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDivider,VHover,VIcon,VList,VListItem,VListItemContent,VListItemIcon,VListItemTitle,VRow,VSpacer})\n","export default {\n  list: function () {\n    return '/api/v1/assessments'\n  },\n\n  store: function () {\n    return '/api/v1/assessments'\n  },\n\n  delete: function (id = null) {\n    return `/api/v1/assessments/delete/${id}`\n  },\n\n  restore: function (id = null) {\n    return `/api/v1/assessments/restore/${id}`\n  },\n\n  trashed: function () {\n    return '/api/v1/assessments/trashed'\n  },\n\n  show: function (id = null) {\n    return `/api/v1/assessments/${id}`\n  },\n\n  update: function (id = null) {\n    return `/api/v1/assessments/${id}`\n  },\n\n  destroy: function (id = null) {\n    return `/api/v1/assessments/${id}`\n  },\n\n  export: function () {\n    return '/api/v1/assessments/export'\n  },\n\n  import: function () {\n    return '/api/v1/assessments/import'\n  },\n\n  field: {\n    list: function () {\n      return '/api/v1/fields'\n    },\n\n    clone: function (id) {\n      return `/api/v1/fields/${id}/clone`\n    },\n\n    store: function () {\n      return '/api/v1/fields'\n    },\n\n    show: function (id = null) {\n      return `/api/v1/fields/${id}`\n    },\n\n    update: function (id = null) {\n      return `/api/v1/fields/${id}`\n    },\n\n    delete: function (id = null) {\n      return `/api/v1/fields/${id}`\n    },\n\n    restore: function (id = null) {\n      return `/api/v1/fields/restore/${id}`\n    },\n\n    reorder: function (id = null) {\n      return `/api/v1/fields/reorder`\n    },\n\n    trashed: function () {\n      return '/api/v1/fields/trashed'\n    },\n\n    upload: function () {\n      return '/api/v1/fields/upload'\n    }\n  }\n}\n","class Assessment {\n  constructor () {\n    this.loading = false\n    this.isPrestine = true\n    this.isValid = true\n    this.errors = []\n\n    this.data = {\n      title: '',\n      subtitle: '',\n      slug: '',\n      url: '/',\n      method: 'POST',\n      type: 'assessment',\n      description: '',\n      fields: [],\n    }\n  }\n}\n\nexport default Assessment\n","class Field {\n  constructor () {\n    this.loading = false\n    this.isPrestine = true\n    this.isValid = true\n    this.errors = []\n\n    this.data = {\n      title: '',\n      code: '',\n      type: '',\n      sort: '',\n      created: '',\n      form_id: '',\n      file: '',\n      metadata: {\n\n      },\n    }\n\n    this.fieldTypes = [\n      {\n        icon: 'mdi-radiobox-marked',\n        name: ' Multiple Choice',\n        code: 'MultipleChoiceField'\n      },\n      {\n        icon: 'mdi-checkbox-marked',\n        name: ' Checkbox',\n        code: 'CheckboxField'\n      },\n      {\n        icon: 'mdi-text-short',\n        name: ' Short Answer',\n        code: 'ShortAnswerField'\n      },\n      {\n        icon: 'mdi-text',\n        name: ' Essay',\n        code: 'EssayField'\n      },\n      {\n        icon: 'mdi-arrow-down-drop-circle',\n        name: ' Drop-down',\n        code: 'DropDownField'\n      },\n      {\n        icon: 'mdi-dots-horizontal',\n        name: ' Linear Scale',\n        code: 'LinearScaleField'\n      },\n    ]\n  }\n}\n\nexport default Field\n"],"sourceRoot":""}