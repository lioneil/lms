{"version":3,"sources":["webpack:///./src/modules/Page/routes/api.js","webpack:///./src/modules/Page/Single.vue?cb8d","webpack:///src/modules/Page/Single.vue","webpack:///./src/modules/Page/Single.vue?9016","webpack:///./src/modules/Page/Single.vue","webpack:///./src/modules/Page/Models/Page.js"],"names":["list","store","delete","id","restore","trashed","draft","publish","show","unpublish","update","upload","destroy","category","computed","hasResource","this","resource","data","isDesktop","$vuetify","breakpoint","mdAndUp","isFetching","loading","isMobile","smAndDown","resourcesIsNotEmpty","resourcesIsEmpty","page","methods","getResource","showProgressbar","axios","get","getCategoryById","categories","find","pageLoaded","iframe","height","contentDocument","body","offsetHeight","mounted","component","_h","$createElement","_c","_self","attrs","_v","_e","ref","on","VSlideYTransition","Page","isPrestine","isValid","errors","title","code","slug","template_id","feature","category_id","metadata","published_at","drafted_at"],"mappings":"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","file":"dist/js/72.js","sourcesContent":["export default {\n  list: function () {\n    return '/api/v1/pages'\n  },\n\n  store: function () {\n    return '/api/v1/pages'\n  },\n\n  delete: function (id = null) {\n    return `/api/v1/pages/delete/${id}`\n  },\n\n  restore: function (id = null) {\n    return `/api/v1/pages/restore/${id}`\n  },\n\n  trashed: function () {\n    return '/api/v1/pages/trashed'\n  },\n\n  draft: function (id) {\n    return `/api/v1/pages/${id}/draft`\n  },\n\n  publish: function (id) {\n    return `/api/v1/pages/${id}/publish`\n  },\n\n  show: function (id = null) {\n    return `/api/v1/pages/${id}`\n  },\n\n  unpublish: function (id) {\n    return `/api/v1/pages/${id}/unpublish`\n  },\n\n  update: function (id = null) {\n    return `/api/v1/pages/${id}`\n  },\n\n  upload: function (id = null) {\n    return `/api/v1/pages/upload`\n  },\n\n  destroy: function (id = null) {\n    return `/api/v1/pages/${id}`\n  },\n\n  category: {\n    list: function () {\n      return '/api/v1/pages/categories'\n    },\n\n    show: function (id = null) {\n      return `/api/v1/pages/categories/${id}`\n    },\n\n    store: function () {\n      return '/api/v1/pages/categories'\n    },\n\n    delete: function (id = null) {\n      return `/api/v1/pages/categories/delete/${id}`\n    },\n\n    restore: function (id = null) {\n      return `/api/v1/pages/categories/restore/${id}`\n    },\n\n    trashed: function () {\n      return '/api/v1/pages/categories/trashed'\n    },\n\n    update: function (id = null) {\n      return `/api/v1/pages/categories/${id}`\n    },\n\n    destroy: function (id = null) {\n      return `/api/v1/pages/categories/${id}`\n    },\n  },\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('web-container',[_c('metatag',{attrs:{\"title\":((_vm.resource.data.title) + \" - Overview\")}}),_vm._v(\" \"),_c('dt-progressbar'),_vm._v(\" \"),_c('v-slide-y-transition',{attrs:{\"mode\":\"in-out\"}},[_c('div',[(!_vm.isFetching)?[_c('iframe',{ref:\"iframe\",attrs:{\"width\":\"100%\",\"srcdoc\":_vm.page},on:{\"load\":_vm.pageLoaded}})]:_vm._e()],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <web-container>\n    <metatag :title=\"`${resource.data.title} - Overview`\"></metatag>\n\n    <dt-progressbar></dt-progressbar>\n\n    <v-slide-y-transition mode=\"in-out\">\n      <div>\n        <template v-if=\"!isFetching\">\n          <iframe ref=\"iframe\" width=\"100%\" @load=\"pageLoaded\" :srcdoc=\"page\"></iframe>\n        </template>\n      </div>\n    </v-slide-y-transition>\n  </web-container>\n</template>\n\n<script>\nimport $auth from '@/core/Auth/auth'\nimport $api from './routes/api'\nimport Page from './Models/Page'\nimport { mapActions } from 'vuex'\n\nexport default {\n  computed: {\n    hasResource () {\n      return this.resource.data.id\n    },\n\n    isDesktop () {\n      return this.$vuetify.breakpoint.mdAndUp\n    },\n\n    isFetching () {\n      return this.resource.loading\n    },\n\n    isMobile () {\n      return this.$vuetify.breakpoint.smAndDown\n    },\n\n    resourcesIsNotEmpty () {\n      return !this.resourcesIsEmpty\n    },\n\n    page () {\n      if(!this.resource.data.body) return ''\n      const { html, css } = JSON.parse(this.resource.data.body)\n      let styles = `\n        <style>\n          html {\n            overflow: hidden !important;\n            scrollbar-width: none;\n            -ms-overflow-style: none;\n          }\n\n          html::-webkit-scrollbar {\n            width: 0;\n            height: 0;\n          }\n          ${css}\n        </style>`\n\n      const doc = `\n        <html>\n          <head>\n            <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css\">\n            <link rel=\"stylesheet\" href=\"${window.location.origin}/theme/dist/css/app.css\">\n            ${styles}\n          </head>\n          <body>\n            ${html}\n          </body>\n        </html>`\n\n      return doc\n    }\n  },\n\n  data: () => ({\n    resource: new Page,\n    auth: $auth.getUser(),\n    api: $api,\n  }),\n\n  methods: {\n    ...mapActions({\n      showDialog: 'dialog/show',\n      hideDialog: 'dialog/hide',\n      errorDialog: 'dialog/error',\n      showSnackbar: 'snackbar/show',\n      loadDialog: 'dialog/loading',\n      hideProgressbar: 'progressbar/hideProgressbar',\n      showProgressbar: 'progressbar/showProgressbar',\n    }),\n\n    getResource () {\n      this.showProgressbar()\n      axios.get($api.show(this.$route.params.id))\n      .then(response => {\n        if(!response.data.data.published)\n          this.$router.push({ path: '/404' })\n        else\n          this.resource.data = response.data.data\n      })\n      .catch(err => {\n        this.$router.push({ path: '/404' })\n      })\n      .finally(() => {\n        this.resource.loading = false\n        this.hideProgressbar()\n      })\n    },\n\n    getCategoryById (id) {\n      if(!this.categories || !id) return\n      return this.categories.find(e => e.id === id).name\n    },\n\n    pageLoaded (e) {\n      const iframe = e.target;\n      iframe.height = iframe.contentDocument.body.offsetHeight\n    }\n  },\n\n  mounted () {\n    this.getResource()\n  },\n}\n</script>\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Single.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--4-0!../../../node_modules/vuetify-loader/lib/loader.js??ref--16-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Single.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Single.vue?vue&type=template&id=639d0504&\"\nimport script from \"./Single.vue?vue&type=script&lang=js&\"\nexport * from \"./Single.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSlideYTransition } from 'vuetify/lib/components/transitions';\ninstallComponents(component, {VSlideYTransition})\n","class Page {\n  constructor () {\n    this.loading = true\n    this.isPrestine = true\n    this.isValid = true\n    this.errors = []\n\n    this.data = {\n      title: '',\n      code: '',\n      slug: '',\n      template_id: '',\n      feature: [],\n      category_id: null,\n      metadata: {},\n      published_at: '',\n      drafted_at: ''\n    }\n  }\n}\n\nexport default Page\n"],"sourceRoot":""}